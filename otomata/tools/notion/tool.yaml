tool:
  name: notion
  description: Notion API toolbox - manage databases, pages, and content
  methods:
  - name: notion_search
    description: Search across all pages and databases in workspace
    inputSchema:
      type: object
      properties:
        query:
          type: string
          description: Search query text
        filter:
          type: string
          description: 'Filter by type: ''page'' or ''database'''
          enum:
          - page
          - database
        sort:
          type: string
          description: Sort by relevance or last_edited_time
          enum:
          - relevance
          - last_edited_time
          default: relevance
      required:
      - query
    _execution:
      type: cli
      script: search.py
      args_mapping:
        query: --query
        filter: --filter
        sort: --sort
  - name: notion_get_page
    description: Retrieve a specific page by ID with full content
    inputSchema:
      type: object
      properties:
        page_id:
          type: string
          description: Notion page ID (with or without dashes)
        include_content:
          type: boolean
          description: Include page blocks content
          default: true
      required:
      - page_id
    _execution:
      type: cli
      script: get_page.py
      args_mapping:
        page_id: --page_id
        include_content: --include_content
  - name: notion_query_database
    description: Query a database with filters and sorting
    inputSchema:
      type: object
      properties:
        database_id:
          type: string
          description: Notion database ID
        filter:
          type: object
          description: Filter object (Notion API format)
        sorts:
          type: array
          description: Array of sort objects
        page_size:
          type: integer
          description: Number of results per page (max 100)
          default: 100
      required:
      - database_id
    _execution:
      type: cli
      script: query_database.py
      args_mapping:
        database_id: --database_id
        filter: --filter
        sorts: --sorts
        page_size: --page_size
  - name: notion_create_page
    description: Create a new page in a database or as a child of another page
    inputSchema:
      type: object
      properties:
        parent_id:
          type: string
          description: Parent database or page ID
        parent_type:
          type: string
          description: Type of parent
          enum:
          - database
          - page
          default: database
        title:
          type: string
          description: Page title
        properties:
          type: object
          description: Page properties (for database pages)
        content:
          type: array
          description: Array of block objects for page content
      required:
      - parent_id
      - title
    _execution:
      type: cli
      script: create_page.py
      args_mapping:
        parent_id: --parent_id
        parent_type: --parent_type
        title: --title
        properties: --properties
        content: --content
  - name: notion_update_page
    description: Update page properties or content
    inputSchema:
      type: object
      properties:
        page_id:
          type: string
          description: Page ID to update
        properties:
          type: object
          description: Properties to update
        archived:
          type: boolean
          description: Archive/unarchive the page
      required:
      - page_id
    _execution:
      type: cli
      script: update_page.py
      args_mapping:
        page_id: --page_id
        properties: --properties
        archived: --archived
  - name: notion_append_blocks
    description: Append blocks to a page
    inputSchema:
      type: object
      properties:
        page_id:
          type: string
          description: Page ID to append blocks to
        blocks:
          type: array
          description: Array of block objects to append
      required:
      - page_id
      - blocks
    _execution:
      type: cli
      script: append_blocks.py
      args_mapping:
        page_id: --page_id
        blocks: --blocks
  - name: notion_get_database
    description: Get database metadata and schema
    inputSchema:
      type: object
      properties:
        database_id:
          type: string
          description: Database ID
      required:
      - database_id
    _execution:
      type: cli
      script: get_database.py
      args_mapping:
        database_id: --database_id
  - name: notion_create_database_from_csv
    description: Create database from CSV with auto-detected schema and registry tracking
    inputSchema:
      type: object
      properties:
        registry:
          type: string
          description: Path to registry JSON file (tracks created databases)
        csv:
          type: string
          description: Path to CSV file with data to import
        parent_id:
          type: string
          description: Parent Notion page ID
        key:
          type: string
          description: Registry key for this database
        db_name:
          type: string
          description: Database name/title
        icon:
          type: string
          description: Database icon emoji
          default: üìä
        skip_if_exists:
          type: boolean
          description: Skip creation if key exists in registry
          default: false
      required:
      - registry
      - csv
      - parent_id
      - key
      - db_name
    _execution:
      type: cli
      script: create_database_from_csv.py
      args_mapping:
        registry: --registry
        csv: --csv
        parent_id: --parent_id
        key: --key
        db_name: --db_name
        icon: --icon
        skip_if_exists: --skip_if_exists
view:
  icon: üìù
  color: accent
  category: Productivit√© & Data
_api_key_location: tools/notion/.key
_usage_examples:
- python3 tools/notion/search.py --query 'Arval'
- 'python3 tools/notion/query_database.py --database-id <id> --filter ''{"property":
  "Status", "select": {"equals": "Active"}}'''
- python3 tools/notion/get_page.py --page-id <id>
_caching:
  description: Notion tools automatically cache API responses
  storage_location: tools/.cache/notion/
  cache_strategy: Hash-based with TTL (24h for reads, no cache for writes)
